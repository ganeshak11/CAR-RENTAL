<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlexiCarz ‚Äî Premium Car Rentals</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <header class="navbar">
    <div class="container">
      <div class="navbar-content">
        <div class="logo">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#0b6efd" stroke-width="2">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>
            <path d="M6 10h12M6 14h12M9 10v4M15 10v4" stroke="#0b6efd"></path>
          </svg>
          <span>FlexiCarz</span>
        </div>

        <button class="hamburger-menu" id="hamburgerBtn" aria-label="Toggle menu">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <nav class="nav-links" id="navMenu">
          <a href="index.html" class="nav-link active">Home</a>
          <a href="vehicles.html" class="nav-link">Vehicles</a>
          <a href="booking.html" class="nav-link">Booking</a>
          <a href="about.html" class="nav-link">About</a>
        </nav>

        <div class="nav-actions" id="navActions">
          <!-- Logged in user actions (hidden by default) -->
          <a href="profile.html" class="user-name" id="userName" style="display: none;"></a>
          <a href="verify-documents.html" id="verifyDocsBtn" class="btn btn-verify" style="display: none;">Verify Documents</a>
          <button id="logoutBtn" class="btn-logout" style="display: none;">Logout</button>
          
          <!-- Guest user actions (shown by default) -->
          <a href="login.html" id="loginBtn" class="btn btn-primary">Login</a>
          <a href="signup.html" id="signupBtn" class="btn btn-secondary">Sign Up</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="hero">
    <div class="hero-overlay"></div>
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">Find Your Perfect Ride</h1>
        <p class="hero-subtitle">Premium self-drive cars with transparent pricing and 24/7 support</p>
        <div class="hero-actions">
          <a href="#vehicles" class="btn btn-primary btn-lg">Explore Vehicles</a>
          <a href="booking.html" class="btn btn-secondary btn-lg">Book Now</a>
        </div>
        <div class="hero-stats">
          <div class="stat-item">
            <h3 id="totalCarsCount">29+</h3>
            <p>Premium Cars</p>
          </div>
          <div class="stat-item">
            <h3>6</h3>
            <p>Top Brands</p>
          </div>
          <div class="stat-item">
            <h3>24/7</h3>
            <p>Support</p>
          </div>
        </div>
      </div>
      <div class="animated-car">
        <img src="cars/car_logo.png" alt="Car" class="car-icon">
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="container">
      <h2 class="section-title">Why Choose FlexiCarz?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üöó</div>
          <h3>Wide Selection</h3>
          <p>Choose from 29+ premium vehicles across 6 top brands</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üí∞</div>
          <h3>Best Prices</h3>
          <p>Transparent pricing with no hidden charges</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚úÖ</div>
          <h3>Easy Booking</h3>
          <p>Quick verification and instant confirmations</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üõ°Ô∏è</div>
          <h3>Fully Insured</h3>
          <p>All vehicles come with comprehensive insurance</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Available Vehicles Section -->
  <section id="vehicles" class="vehicles-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Available Vehicles</h2>
        <div class="filters-container">
          <select id="categoryFilter" class="filter-select">
            <option value="all">All Categories</option>
            <option value="sedan">Sedan</option>
            <option value="suv">SUV</option>
            <option value="hatchback">Hatchback</option>
          </select>
          <select id="priceFilter" class="filter-select">
            <option value="all">All Prices</option>
            <option value="low">Under ‚Çπ2,000</option>
            <option value="medium">‚Çπ2,000 - ‚Çπ4,000</option>
            <option value="high">Above ‚Çπ4,000</option>
          </select>
          <input type="text" id="searchCar" class="search-input" placeholder="Search by brand or model...">
          <button id="resetFilters" class="btn btn-secondary">Reset</button>
        </div>
      </div>
      <div id="carList" class="car-grid"></div>
      <div id="noResults" class="no-results" style="display: none;">
        <p>No vehicles found matching your criteria</p>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works">
    <div class="container">
      <h2 class="section-title">How It Works</h2>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-number">1</div>
          <h3>Sign Up</h3>
          <p>Create your account in minutes</p>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <h3>Verify Documents</h3>
          <p>Upload your driving license for verification</p>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <h3>Choose Vehicle</h3>
          <p>Select from our premium fleet</p>
        </div>
        <div class="step-card">
          <div class="step-number">4</div>
          <h3>Book & Drive</h3>
          <p>Complete payment and hit the road!</p>
        </div>
      </div>
    </div>
  </section>





  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <h4>About Us</h4>
          <p>FlexiCarz is your trusted partner for premium car rentals with transparent pricing and exceptional service.
          </p>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="vehicles.html">Vehicles</a></li>
            <li><a href="booking.html">Booking</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <ul>
            <li>üìß ganeshangadi13012006@gmail.com</li>
            <li>üìû 9986094984 (Ganesh)</li>
            <li>üïê 24/7 Available</li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Follow Us</h4>
          <div class="social-links">
            <a href="#">Twitter</a>
            <a href="#">Facebook</a>
            <a href="#">Instagram</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 FlexiCarz Rentals. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase.js"></script>
  <script src="script.js"></script>
  <script>
    // Animated car on hero
    const hero = document.querySelector('.hero');
    const car = document.querySelector('.animated-car img');
    let lastX = 0;

    if (hero && car) {
      hero.addEventListener('mousemove', (e) => {
        const moveX = (e.clientX - lastX) * 0.5;
        const currentTransform = car.style.transform || 'translateX(0)';
        const currentX = parseFloat(currentTransform.match(/-?\d+/) || 0);
        const newX = Math.max(-200, Math.min(200, currentX + moveX));
        car.style.transform = `translateX(${newX}px) scaleX(${moveX < 0 ? 1 : -1})`;
        lastX = e.clientX;
      });

      hero.addEventListener('mouseleave', () => {
        car.style.transform = 'translateX(0) scaleX(-1)';
      });
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Update car count dynamically
    async function updateCarCount() {
      try {
        const { data, error } = await window.supabase.from('cars').select('id', { count: 'exact', head: true });
        if (!error && data !== null) {
          const count = await window.supabase.from('cars').select('id');
          document.getElementById('totalCarsCount').textContent = count.data?.length + '+' || '29+';
        }
      } catch (e) {
        console.log('Could not fetch car count');
      }
    }
    updateCarCount();
  </script>
</body>

</html>